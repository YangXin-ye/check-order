# 后台实现菜单管理
## 1、MenuController添加菜单管理接口
```java

    @RequestMapping("/delete/{id}")
    public Result delete(@PathVariable Integer id){
        Menu menu = menuService.getById(id);
        if(menu==null){
            return Result.failed(300,"菜单不存在");
        }
        if(menu.getParent()==0){
            //如果是父级菜单，判断下方是否有子菜单
            List<Menu> list = menuService.lambdaQuery().eq(Menu::getParent, id).list();
            if(CollectionUtils.isNotEmpty(list)){
                return Result.failed(300,"请先删除子菜单");
            }
        }
        menuService.removeById(id);
        return Result.success();
    }

    @PostMapping("/update")
    public Result update(@RequestBody Menu menu){
        menuService.updateById(menu);
        return Result.success();
    }

    @PostMapping("/add")
    public Result add(@RequestBody Menu menu){
        menuService.save(menu);
        return Result.success();
    }


    @RequestMapping("/getChildrenList")
    public Result getChildrenList(@RequestParam Integer id){
        List<Menu> list = menuService.lambdaQuery().eq(Menu::getParent, id).list();
        return Result.success(list);
    }
```
## 2、路由添加菜单管理页面(router/index.js)
```js
        {
          path: '/menuList',
          name: 'menuList',
          component: MenuList
        },
```
## 3、数据库新增菜单管理导航栏
```sql
INSERT INTO `menu` (`id`, `name`, `label`, `icon`, `url`, `path`, `parent`) VALUES (17, 'menu', '菜单管理', 'setting', NULL, NULL, 0);
INSERT INTO `menu` (`id`, `name`, `label`, `icon`, `url`, `path`, `parent`) VALUES (18, 'menuList', '菜单列表', 'setting', 'menu/menuList', 'menuList', 17);
```